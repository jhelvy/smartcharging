[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Home",
    "section": "",
    "text": "BEV (Battery Electric Vehicle) is an important solution to reduce \\(CO_2\\) and air pollution from vehicles. As BEVs gain popularity, managing their electric load on the grid will become increasingly important.\nThis project aims to understand BEV owners’ preferences of adopting the Smart Charging programs to improve grid resilience and enable greater integration of renewable energy onto the grid. The program contains both SMC (Supplier-Managed Charging) and V2G (Vehicle-to-Grid). See the About page for more details on the project.\nThis project is supported by the the Alfred P. Sloan Foundation’s Energy and Environment Program."
  },
  {
    "objectID": "index.html#the-smart-charging-project",
    "href": "index.html#the-smart-charging-project",
    "title": "Home",
    "section": "",
    "text": "BEV (Battery Electric Vehicle) is an important solution to reduce \\(CO_2\\) and air pollution from vehicles. As BEVs gain popularity, managing their electric load on the grid will become increasingly important.\nThis project aims to understand BEV owners’ preferences of adopting the Smart Charging programs to improve grid resilience and enable greater integration of renewable energy onto the grid. The program contains both SMC (Supplier-Managed Charging) and V2G (Vehicle-to-Grid). See the About page for more details on the project.\nThis project is supported by the the Alfred P. Sloan Foundation’s Energy and Environment Program."
  },
  {
    "objectID": "pages/people.html",
    "href": "pages/people.html",
    "title": "People",
    "section": "",
    "text": "This project is led by PI John Paul Helveston from The George Washington University in a partnership with researchers from UC Irvine, UC Davis, and RIT. The team consists of the following members:\n\n\n\n\n\nJohn Paul Helveston, Ph.D.\nJohn Paul Helveston is an Assistant Professor in the Department of Engineering Management and Systems Engineering at the George Washington University. He studies technological change, with a particular interest in accelerating the transition to environmentally sustainable and energy-saving technologies.\n\n\n\n\n\n\n\nPingfan Hu\nPingfan Hu is a Ph.D. student in Systems Engineering at the George Washington University, supervised by PI John Helveston. His primary research topic is the adoption of BEV Smart Charging by conjoint surveys.\n\n\n\n\n\n\n\nBrian Tarroja, Ph.D., P.E.\nBrian Tarroja is a researcher and educator focused on improving the robustness of strategies to carry out the transition to a cleaner, decarbonized energy system. His research centers on understanding how to co-optimize concurrent transitions in energy, water, and transportation infrastructures to maximize beneficial outcomes and avoid or minimize harmful consequences.\n\n\n\n\n\n\n\nMatthew Dean, Ph.D.\nMatthew Dean is an Assistant Professor at UC Irvine conducting research at the intersection of transportation engineering and energy systems. His work prepares cities for emergent shared mobility services, strengthens our decarbonization goals by managing distributed energy assets, and creates healthy communities by getting people out biking, walking, and rolling.\n\n\n\n\n\n\n\nKate Forrest, Ph.D.\nKate E. Forrest is currently a Senior Scientist at Advanced Power and Energy Program (APEP) at the University of California, Irvine. She is an environmental scientist and engineer passionate about clean energy, environmental advocacy, sustainable energy and transportation solutions, science policy, and educational outreach.\n\n\n\n\n\n\n\nEric Hittinger, Ph.D.\nEric Hittinger is an Associate Professor of Public Policy at Rochester Institute of Technology, WILL International Chair at University of Lille, and President-Elect of the US Association for Energy Economics. His research is focused on energy policy, particularly the opportunities and challenges associated with new technologies such as energy storage, renewables, EVs, and efficiency.\n\n\n\n\n\n\n\nAlan Jenn, Ph.D.\nAlan Jenn is an Assistant Professor at the EV group of the Institute of Transportation Studies at the University of California, Davis as well as an affiliate at Lawrence Berkeley National Laboratory. His research is focused on PEVs: integration with the electric grid, adoption of the technology, use in ride-hailing companies, and its impact on transportation finance."
  },
  {
    "objectID": "pages/about.html",
    "href": "pages/about.html",
    "title": "About the Smart Charging Project",
    "section": "",
    "text": "This image was generated using DALLE 3."
  },
  {
    "objectID": "pages/about.html#project-summary",
    "href": "pages/about.html#project-summary",
    "title": "About the Smart Charging Project",
    "section": "Project Summary",
    "text": "Project Summary\nThis project aims to understand BEV owners’ preferences with respect to participating in the Smart Charging programs to improve grid resilience and enable greater integration of renewable energy onto the grid. The three-year project will be performed in two research thrusts:\n\nThrust One: Measure and model BEV charging preferences using conjoint survey.\nThrust Two: Simulate grid performance under different SMC and V2G scenarios.\n\nThe Smart Charging programs contain both SMC and V2G:\n\nSMC is short for “Supplier-Managed Charging”. It allows the charging stations to monitor, manage, and even restrict the charging process to optimize energy consumption.\nV2G is short for “Vehicle-to-Grid”. It allows bidirectional charging, so that the vehicle can discharge a certain amount of electricity back to the grid to further optimize energy consumption by balancing supply and demand.\n\nThe EV charging survey for the first thrust can be accessed here:\n\n EV Charging Survey \n\nThe second thrust is also in early stages, and we are coordinating with partners to begin modeling grid performance under different BEV loading scenarios.\nThis project is supported by the the Alfred P. Sloan Foundation’s Energy and Environment Program."
  },
  {
    "objectID": "pages/faq.html",
    "href": "pages/faq.html",
    "title": "FAQ",
    "section": "",
    "text": "BEV - BEV is short for “Battery Electrical Vehicles”. It is a type of electric vehicle (EV) that solely rely on electricity stored in batteries for propulsion. BEV does not have a gasoline engine. The key components of a BEV include an electric motor, a battery pack, and a control system.\nSmart Charging - Smart Charging means to control and monitor the BEV charging process. In our project, it contains SMC and V2G.\nSMC - SMC is short for “Supplier-Managed Charging”. It allows the charging stations to monitor, manage, and even restrict the charging process to optimize energy consumption. Specifically, SMC monitors and controls charging window and amount, to make sure they are mostly charged during the off-peak periods of the electricity demand.\nV2G - V2G is short for “Vehicle-to-Grid”. It allows bidirectional charging, so that the vehicle can discharge a certain amount of electricity back to the grid to further optimize energy consumption by balancing supply and demand.\nConjoint Survey - A conjoint survey question packs different attributes together into each option, so that when participants make choices, they choose the whole package instead of only one attribute. For example, when I choose to buy an iPhone, I accept its expensive price, moderate signal, and durable quality at the same time. In this case, choosing to buy a phone is a conjoint question."
  },
  {
    "objectID": "pages/faq.html#terminologies",
    "href": "pages/faq.html#terminologies",
    "title": "FAQ",
    "section": "",
    "text": "BEV - BEV is short for “Battery Electrical Vehicles”. It is a type of electric vehicle (EV) that solely rely on electricity stored in batteries for propulsion. BEV does not have a gasoline engine. The key components of a BEV include an electric motor, a battery pack, and a control system.\nSmart Charging - Smart Charging means to control and monitor the BEV charging process. In our project, it contains SMC and V2G.\nSMC - SMC is short for “Supplier-Managed Charging”. It allows the charging stations to monitor, manage, and even restrict the charging process to optimize energy consumption. Specifically, SMC monitors and controls charging window and amount, to make sure they are mostly charged during the off-peak periods of the electricity demand.\nV2G - V2G is short for “Vehicle-to-Grid”. It allows bidirectional charging, so that the vehicle can discharge a certain amount of electricity back to the grid to further optimize energy consumption by balancing supply and demand.\nConjoint Survey - A conjoint survey question packs different attributes together into each option, so that when participants make choices, they choose the whole package instead of only one attribute. For example, when I choose to buy an iPhone, I accept its expensive price, moderate signal, and durable quality at the same time. In this case, choosing to buy a phone is a conjoint question."
  },
  {
    "objectID": "pages/faq.html#q-a",
    "href": "pages/faq.html#q-a",
    "title": "FAQ",
    "section": "Q & A",
    "text": "Q & A\nWhy Smart Charging - As BEVs are becoming a considerable part of vehicles, it is urgent to have a better power management process. The Smart Charging programs contribute to a zero-carbon power generation, and will be valuable to both the environment and the participants, including the grid providers and the BEV owners.\nWhy Conjoint Survey - A conjoint survey is a pilot simulation to people’s willingness of adopting to the smart charging program. By a proper modeling, executing, and analysis process, we’ll know in what conditions will BEV owners participate in the smart charging program, and how the program will be in details."
  },
  {
    "objectID": "pages/slides.html",
    "href": "pages/slides.html",
    "title": "Slides",
    "section": "",
    "text": "Press “F” for full screen, or access the full screen version here:  Project Slides ."
  },
  {
    "objectID": "pages/showcase.html",
    "href": "pages/showcase.html",
    "title": "Showcase",
    "section": "",
    "text": "Access the full screen version here:  Project Showcase ."
  },
  {
    "objectID": "pages/poster.html",
    "href": "pages/poster.html",
    "title": "Poster",
    "section": "",
    "text": "Access the full screen version here:  Project Poster ."
  },
  {
    "objectID": "slides/index.html",
    "href": "slides/index.html",
    "title": "Modeling Heterogeneous Preferences",
    "section": "",
    "text": "# Define the beta hat values\nbeta_1_hat &lt;- \"&beta;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;1&lt;/sub&gt;\"\nbeta_2_hat &lt;- \"&beta;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;2&lt;/sub&gt;\"\nbeta_m_hat &lt;- \"&beta;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;m&lt;/sub&gt;\"\n\n# Define the mu hat values\nmu_1_hat &lt;- \"&mu;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;1&lt;/sub&gt;\"\nmu_2_hat &lt;- \"&mu;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;2&lt;/sub&gt;\"\nmu_m_hat &lt;- \"&mu;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;m&lt;/sub&gt;\"\n\n# Define the sigma hat values\nsigma_1_hat &lt;- \"&sigma;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;1&lt;/sub&gt;\"\nsigma_2_hat &lt;- \"&sigma;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;2&lt;/sub&gt;\"\nsigma_m_hat &lt;- \"&sigma;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;m&lt;/sub&gt;\""
  },
  {
    "objectID": "slides/index.html#recall-homogeneous-utility-model",
    "href": "slides/index.html#recall-homogeneous-utility-model",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Recall: Homogeneous Utility Model",
    "text": "Recall: Homogeneous Utility Model\nAll our past analyses are Homogeneous Utility Models, meaning we consider all participants as homogeneous, so that everyone has the same utility coefficients of \\(\\boldsymbol{\\beta}\\).\n\\[\n\\tilde {u_j} = \\boldsymbol{\\beta}'\\mathbf{x}_j + \\tilde {\\epsilon_j} = \\beta_1 x_{j1} + \\beta_2 x_{j2} + \\ldots + \\tilde {\\epsilon_j}\n\\]\nThe \\(\\boldsymbol{\\beta}\\) values consist of \\(\\hat {\\beta}\\) and \\(\\sigma\\), which are estimated values and Std Err:\n\nestimates &lt;- c(beta_1_hat, beta_2_hat, \"...\", beta_m_hat)\nstd_errors &lt;- c(\"&sigma;&lt;sub&gt;1&lt;/sub&gt;\",\n                \"&sigma;&lt;sub&gt;2&lt;/sub&gt;\", \"...\",\n                \"&sigma;&lt;sub&gt;m&lt;/sub&gt;\")\nbeta_df &lt;- t(data.frame(Est = estimates, `Std.Err.` = std_errors)) %&gt;% \n    as.data.frame()\nbeta_df %&gt;% \n    kable(format = 'html', escape = FALSE, align = 'c', col.names = NULL,\n          table.attr = 'style=\"border-collapse: collapse;\n                               border: 1px solid black;\"')\n\n\n\n\nEst\nβ^1\nβ^2\n...\nβ^m\n\n\nStd.Err.\nσ1\nσ2\n...\nσm\n\n\n\n\n\n\n\nHowever, in real world, it’s impossible to have homogeneous participants. We use different methods to create heterogeneous models. The 2 of them are:\n\nInteraction Model, where we divide participants into groups, each with their own \\(\\beta\\) coefficients.\nMixed Logit Model, where we span each \\(\\beta\\) coefficient as normal distribution (or other dist.) instead of point estimate."
  },
  {
    "objectID": "slides/index.html#heterogeneous-models",
    "href": "slides/index.html#heterogeneous-models",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Heterogeneous Models",
    "text": "Heterogeneous Models\nHeterogeneous models allow for different participants to have different coefficients. There are 2 models that we want to discuss:\n\n\n\n1. Interaction Model\naka Observed Heterogeneity\n\ninteraction_df &lt;- data.frame(\n  c(beta_1_hat, beta_2_hat, \"...\", beta_m_hat),\n  c(\"&sigma;&lt;sub&gt;1&lt;/sub&gt;\", \"&sigma;&lt;sub&gt;2&lt;/sub&gt;\", \"...\",\n    \"&sigma;&lt;sub&gt;m&lt;/sub&gt;\"),\n  c(beta_1_hat, beta_2_hat, \"...\", beta_m_hat),\n  c(\"&sigma;&lt;sub&gt;1&lt;/sub&gt;\", \"&sigma;&lt;sub&gt;2&lt;/sub&gt;\", \"...\",\n    \"&sigma;&lt;sub&gt;m&lt;/sub&gt;\")\n)\n\ncolnames(interaction_df) &lt;- c(\"Estimate\", \"Std. Err.\", \"Estimate\", \"Std. Err.\")\n\ninteraction_df %&gt;% \n    kable(format = 'html', escape = FALSE, align = 'c',\n          table.attr = 'style=\"border-collapse: collapse;\n                               border: 1px solid black;\"') %&gt;%\n    add_header_above(c(\"Group 1\" = 2, \"Group 2\" = 2))\n\n\n\n\n\n\n\n\n\n\n\nGroup 1\n\n\nGroup 2\n\n\n\nEstimate\nStd. Err.\nEstimate\nStd. Err.\n\n\n\n\nβ^1\nσ1\nβ^1\nσ1\n\n\nβ^2\nσ2\nβ^2\nσ2\n\n\n...\n...\n...\n...\n\n\nβ^m\nσm\nβ^m\nσm\n\n\n\n\n\n\n\nParticipants are divided into 2 groups, each with their own \\(\\beta\\) coefficients.\n\n\n\n\n\n2. Mixed Logit Model\naka Unobserved Heterogeneity\n\nmxl_df &lt;- data.frame(\n    Estimate = c(\n      paste(beta_1_hat, \"&sim; N(\", mu_1_hat, \", \", sigma_1_hat, \")\"),\n      paste(beta_2_hat, \"&sim; N(\", mu_2_hat, \", \", sigma_2_hat, \")\"),\n      \"...\",\n      paste(beta_m_hat, \"&sim; N(\", mu_m_hat, \", \", sigma_m_hat, \")\")\n    )\n)\n\nmxl_df %&gt;%\n  kable(format = 'html', escape = FALSE, align = 'c',\n        table.attr = 'style=\"border-collapse: collapse;\n                               border: 1px solid black;\"')\n\n\n\n\nEstimate\n\n\n\n\nβ^1 ∼ N( μ^1 , σ^1 )\n\n\nβ^2 ∼ N( μ^2 , σ^2 )\n\n\n...\n\n\nβ^m ∼ N( μ^m , σ^m )\n\n\n\n\n\n\n\nEach \\(\\beta\\) coefficient is spanned as normal distribution instead of point estimate."
  },
  {
    "objectID": "slides/index.html#model-1-interaction-model",
    "href": "slides/index.html#model-1-interaction-model",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Model 1: Interaction Model",
    "text": "Model 1: Interaction Model\n\n\nWe start from a simple homogeneous model:\n\\[\n\\tilde {u_j} = \\beta_1 x_{j1} + \\tilde {\\epsilon_j}\n\\]\nWe assign 2 groups A and B, where \\(\\delta^B\\) is an indicator:\n\\[\n\\begin{align}\n\\tilde {u_j} &= \\beta_1 x_{j1} + \\beta_2 x_{j1} \\delta^B + \\tilde {\\epsilon_j} \\\\\n&= (\\beta_1 + \\beta_2 \\delta^B) x_{j1} + \\tilde {\\epsilon_j}\n\\end{align}\n\\]\nThe reason why we can directly add the \\(\\beta\\)s of A and B with a uniformed \\(\\tilde {\\epsilon_j}\\) is that the error term follows the same Gumbel distribution.\n\n\n\nThe effect of \\(x_{j1}\\) is different for Groups A and B:\n\nFor Group A, it’s only \\(\\hat{\\beta}_1\\);\nFor Group B, it’s \\(\\hat{\\beta}_1 + \\hat{\\beta}_2\\).\n\nIn the interaction model, the \\(\\hat{\\beta}_1\\) and \\(\\hat{\\beta}_2\\) values are:\n\nbeta_interpretation_df &lt;- data.frame(\n  `Par.` = c(beta_1_hat, beta_2_hat),\n  Interpretation = c(\"Effect of x&lt;sub&gt;j1&lt;/sub&gt; for group A\", \"Difference in effect of x&lt;sub&gt;j1&lt;/sub&gt; between groups A and B\")\n)\nbeta_interpretation_df %&gt;%\n  kable(format = 'html', escape = FALSE, align = 'c',\n        table.attr = 'style=\"border-collapse: collapse;\n                               border: 1px solid black;\"')\n\n\n\n\nPar.\nInterpretation\n\n\n\n\nβ^1\nEffect of xj1 for group A\n\n\nβ^2\nDifference in effect of xj1 between groups A and B"
  },
  {
    "objectID": "slides/index.html#practice-question-1",
    "href": "slides/index.html#practice-question-1",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Practice Question 1",
    "text": "Practice Question 1\nSuppose we use the following utility model to describe preferences for cars:\n\\[\n\\tilde {u_j} = \\beta_1 x_j^{price} + \\beta_2 x_j^{mpg} + \\beta_3 \\delta_j^{elec} + \\tilde {\\epsilon_j}\n\\]\n\nUsing interactions, write out a model that accounts for differences in the effects of \\(x_j^{price}\\), \\(x_j^{mpg}\\), and \\(\\delta_j^{elec}\\) between two groups: A and B.\n\\[\n\\tilde {u_j} = \\beta_1 x_j^{price} + \\beta_2 x_j^{mpg} + \\beta_3 \\delta_j^{elec} + \\beta_4 x_j^{price} \\delta^B + \\beta_5 x_j^{mpg} \\delta^B + \\beta_6 \\delta_j^{elec} \\delta^B + \\tilde {\\epsilon_j}\n\\]\nWrite out the effects of \\(x_j^{price}\\), \\(x_j^{mpg}\\), and \\(\\delta_j^{elec}\\) for each group.\n\n\neffects_q1_df &lt;- data.frame(\n    Group = c('x&lt;sub&gt;j&lt;/sub&gt;&lt;sup&gt;price&lt;/sup&gt;',\n              'x&lt;sub&gt;j&lt;/sub&gt;&lt;sup&gt;mpg&lt;/sup&gt;',\n              '&delta;&lt;sub&gt;j&lt;/sub&gt;&lt;sup&gt;elec&lt;/sup&gt;'),\n    A = c('&beta;&lt;sub&gt;1&lt;/sub&gt;', '&beta;&lt;sub&gt;2&lt;/sub&gt;', '&beta;&lt;sub&gt;3&lt;/sub&gt;'),\n    B = c('&beta;&lt;sub&gt;1&lt;/sub&gt; + &beta;&lt;sub&gt;4&lt;/sub&gt;',\n          '&beta;&lt;sub&gt;2&lt;/sub&gt; + &beta;&lt;sub&gt;5&lt;/sub&gt;',\n          '&beta;&lt;sub&gt;3&lt;/sub&gt; + &beta;&lt;sub&gt;6&lt;/sub&gt;')\n)\neffects_q1_df %&gt;% \n    kable(format = 'html', escape = FALSE, align = 'c',\n          table.attr = 'style=\"border-collapse: collapse;\n                               border: 1px solid black;\"') %&gt;% \n    column_spec(column = 1, width = '5em', border_right = TRUE) %&gt;%\n    column_spec(column = 2, width = '5em', border_right = TRUE) %&gt;%\n    column_spec(column = 3, width = '10em')\n\n\n\n\nGroup\nA\nB\n\n\n\n\nxjprice\nβ1\nβ1 + β4\n\n\nxjmpg\nβ2\nβ2 + β5\n\n\nδjelec\nβ3\nβ3 + β6"
  },
  {
    "objectID": "slides/index.html#hypothesis-test",
    "href": "slides/index.html#hypothesis-test",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Hypothesis Test",
    "text": "Hypothesis Test\nWe use the simulation method to perform the hypothesis test, and see if there is significant difference between Group A and Group B.\n\n\nUse R code to perform the simulation:\n# Construct beta and hessian\nbeta = c(b1 = -0.7, b2 = 0.1)\nhessian = matrix(c(-6000,  50,\n                    50,   -6000),\n                 ncol = 2, byrow = TRUE)\ncovariance = -1*(solve(hessian))\n\n# Simulate draws for 10^5 times\ndraws = as.data.frame(MASS::mvrnorm(10^5, beta, covariance))\n\n# Work out the utility model coefficients beta\nb1_A = draws$b1\nb1_B = draws$b1 + draws$b2\n\n# Calculate confidence Intervals\nmean(b1_A)\nmean(b1_B)\nquantile(b1_A, c(0.025, 0.975))\nquantile(b1_B, c(0.025, 0.975))\n\n\n\nThe mean and quantile values are:\n&gt; mean(b1_A)\n[1] -0.7000618\n&gt; mean(b1_B)\n[1] -0.6000408\n&gt; quantile(b1_A, c(0.025, 0.975))\n      2.5%      97.5%\n-0.7253724 -0.6748339\n&gt; quantile(b1_B, c(0.025, 0.975))\n      2.5%      97.5%\n-0.6358317 -0.5642215\nSince these 2 confidence intervals do not overlap, there is significant evidence that Group A is different from Group B."
  },
  {
    "objectID": "slides/index.html#practice-question-2",
    "href": "slides/index.html#practice-question-2",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Practice Question 2",
    "text": "Practice Question 2\nSuppose we estimate the following utility model describing preferences for chocolate bars between two groups: A & B\n\\[\n\\tilde {u_j} = \\beta_1 x_j^{price} + \\beta_2 x_j^{cacao} + \\beta_3 x_j^{price} \\delta^B + \\beta_4 x_j^{cacao} \\delta^B + \\tilde {\\epsilon_j}\n\\]\n\n\n\nUse the mvrnorm() function from the MASS library to generate 10,000 draws of the model coefficients.\nUse the draws to compute the mean and 95% confidence intervals of the effects of \\(x_j^{price}\\) and \\(x_j^{cacao}\\) for each group (A&B).\n\n\n\n\n\n\n\nbeta_q2_df &lt;- data.frame(\n    `Par.` = c('&beta;&lt;sub&gt;1&lt;/sub&gt;', '&beta;&lt;sub&gt;2&lt;/sub&gt;',\n                  '&beta;&lt;sub&gt;3&lt;/sub&gt;', '&beta;&lt;sub&gt;4&lt;/sub&gt;'),\n    `Coef.` = c(-0.7, 0.1, 0.2, 0.8)\n)\n\nbeta_q2_df %&gt;% \n    kable(format = 'html', escape = FALSE, align = 'c',\n          caption = \"Parameters\",\n          table.attr = 'style=\"border-collapse: collapse;\n                               border: 1px solid black;\"')\n\n\nParameters\n\n\nPar.\nCoef.\n\n\n\n\nβ1\n-0.7\n\n\nβ2\n0.1\n\n\nβ3\n0.2\n\n\nβ4\n0.8\n\n\n\n\n\n\n\n\n\nhessian_q2 &lt;- matrix(c(-6000, 50,  60,  70,\n                     50,  -700, 50,  100,\n                     60,   50, -300, 20,\n                     70,   100, 20, -6000),\n                  ncol = 4, byrow = TRUE)\nhessian_q2_df &lt;- as.data.frame(hessian_q2)\n\nhessian_q2_df %&gt;% \n    kable(format = 'html', escape = FALSE, align = 'c',\n          caption = \"Hessian\", col.names = NULL,\n          table.attr = 'style=\"border-collapse: collapse;\n                               border: 1px solid black;\"')\n\n\nHessian\n\n\n-6000\n50\n60\n70\n\n\n50\n-700\n50\n100\n\n\n60\n50\n-300\n20\n\n\n70\n100\n20\n-6000"
  },
  {
    "objectID": "slides/index.html#question-2-solution",
    "href": "slides/index.html#question-2-solution",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Question 2 Solution",
    "text": "Question 2 Solution\n\n\n\nCodes\n# Construct beta and hessian\nbeta = c(b1 = -0.7, b2 = 0.1, b3 = 0.2, b4 = 0.8)\nhessian = matrix(c(-6000, 50,  60,  70,\n                    50,  -700, 50,  100,\n                    60,   50, -300, 20,\n                    70,   100, 20, -6000),\n                 ncol = 4, byrow = TRUE)\ncovariance = -1*(solve(hessian))\n\n# Simulate draws for 10^5 times\ndraws = as.data.frame(MASS::mvrnorm(10^5, beta, covariance))\n\n# Work out the utility model coefficients beta\nb1_A = draws$b1\nb2_A = draws$b2\nb1_B = draws$b1 + draws$b3\nb2_B = draws$b2 + draws$b4\n\n# Calculate confidence Intervals\nmean(b1_A)\nmean(b2_A)\nmean(b1_B)\nmean(b2_B)\nquantile(b1_A, c(0.025, 0.975))\nquantile(b2_A, c(0.025, 0.975))\nquantile(b1_B, c(0.025, 0.975))\nquantile(b2_B, c(0.025, 0.975))\n\n\n\nResults\n&gt; mean(b1_A)\n[1] -0.7000142\n&gt; mean(b2_A)\n[1] 0.1000435\n&gt; mean(b1_B)\n[1] -0.4998727\n&gt; mean(b2_B)\n[1] 0.9000659\n&gt; quantile(b1_A, c(0.025, 0.975))\n      2.5%      97.5% \n-0.7254443 -0.6747621 \n&gt; quantile(b2_A, c(0.025, 0.975))\n      2.5%      97.5% \n0.02545381 0.17482052 \n&gt; quantile(b1_B, c(0.025, 0.975))\n      2.5%      97.5% \n-0.6186359 -0.3814665 \n&gt; quantile(b2_B, c(0.025, 0.975))\n     2.5%     97.5% \n0.8200561 0.9804029 \nBoth \\(\\beta\\) values of A and B are significantly different."
  },
  {
    "objectID": "slides/index.html#model-2-mixed-logit-model-mxl",
    "href": "slides/index.html#model-2-mixed-logit-model-mxl",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Model 2: Mixed Logit Model (MXL)",
    "text": "Model 2: Mixed Logit Model (MXL)\nIn the MXL model, we assume each \\(\\beta\\) is distributed across the population, so that we convert from a point estimate \\(\\hat {\\beta}\\) to a range containing an estimated mean \\(\\hat {\\mu}\\) and Std Err \\(\\hat {\\sigma}\\).\n\n\n\nStandard vs Mixed Logit\nA standard logit uses point estimate, whose PDF is a solid value:\n\\[\nP_j = \\frac{e^{v_j}}{\\sum_{k=1}^{J} e^{v_k}}\n\\]\nA mixed logit uses integration, whose PDF is an area under the curve:\n\\[\nP_j = \\int \\left( \\frac{e^{v_j}}{\\sum_{k=1}^{J} e^{v_k}} \\right) f(\\beta) d\\beta\n\\]\n\n\n\n\n\nUse Simulation for MXL\n\nDraw a \\(\\beta\\) value from \\(f(\\beta)\\), label it \\(\\beta^r\\).\nCalculate the standard logit function using \\(\\beta^r\\):\n\\[\nP_j^r = \\frac{e^{v_j^r}}{\\sum_{k=1}^{J} e^{v_k^r}}\n\\]\nSimulate R times of draws, sum and divide by R:\n\\[\n\\hat{P}_j = \\frac{1}{R} \\sum_{r=1}^{R} P_j^r\n\\]"
  },
  {
    "objectID": "slides/index.html#mxl-simulation-using-r-code",
    "href": "slides/index.html#mxl-simulation-using-r-code",
    "title": "Modeling Heterogeneous Preferences",
    "section": "MXL Simulation using R Code",
    "text": "MXL Simulation using R Code\nWe use the logitr package to simulate the MXL model. Take this chocolate example:\n\\[\n\\tilde{u}_j = \\beta_1 x_j^{\\text{price}} + \\beta_2 x_j^{\\text{cacao}} + \\varepsilon_j \\\\\n\\beta_1 \\sim N(\\mu_1, \\sigma_1), \\quad \\beta_2 \\sim N(\\mu_2, \\sigma_2)\n\\]\n\n\n\nR Code\n\nlibrary(logitr)\n\nmodel = logitr(\n    data     = data,\n    outcome  = 'choice',\n    obsID    = 'obsID',\n    pars     = c('price', 'cacao'),\n    randPars = c(price = 'n', cacao = 'n')\n)\n\n\n\n\n\n\nInterpretation\n\nUse the logitr() function to generate standard and mixed logit models.\nBy setting randPars, we define the individually distributed variables price and cacao, which results in a mixed logit model.\nBy setting randPars values as 'n', we define them as “Normally Distributed”. The value 'ln' means log normal distribution."
  },
  {
    "objectID": "slides/index.html#practice-question-3",
    "href": "slides/index.html#practice-question-3",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Practice Question 3",
    "text": "Practice Question 3\n\nLoad the logitr package, which loads the yogurt data frame.\nUse the logitr package to estimate the following homogeneous model: \\[\n\\tilde{u}_j = \\beta_1 x_j^{\\text{price}} + \\beta_2 \\delta_j^{\\text{feat}} + \\beta_3 \\delta_j^{\\text{dannon}} + \\beta_4 \\delta_j^{\\text{highland}} + \\beta_5 \\delta_j^{\\text{weight}} + \\varepsilon_j\n\\] where the three \\(\\sigma\\) coefficients are dummies for Dannon, Highland, and Weight Watchers brands and Yoplait is the baseline brand.\nUse the logitr package to estimate the same model but with the following mixing distributions: \\[\n\\beta_1 \\sim N(\\mu_1, \\sigma_1) \\\\\n\\beta_2 \\sim N(\\mu_2, \\sigma_2)\n\\]"
  },
  {
    "objectID": "slides/index.html#question-3-solution",
    "href": "slides/index.html#question-3-solution",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Question 3 Solution",
    "text": "Question 3 Solution\n\n\n\nStandard Logit Model\nCode:\n# Load package\nlibrary(logitr)\n\n# Standard model\nmodel_standard = logitr(\n    data     = yogurt,\n    outcome  = 'choice',\n    obsID    = 'obsID',\n    pars     = c('price', 'feat', 'brand')\n)\n\n# Model coefficients\ncoef(model_standard)\nResult:\n&gt; coef(model_standard)\n       price         feat  brandhiland  brandweight \n  -0.3665546    0.4914392   -3.7154773   -0.6411384 \nbrandyoplait \n   0.7345195 \n\n\n\n\n\nMixed Logit Model\nCode:\n# Load package\nlibrary(logitr)\n\n# Standard model\nmodel_mixed = logitr(\n    data     = yogurt,\n    outcome  = 'choice',\n    obsID    = 'obsID',\n    pars     = c('price', 'feat', 'brand'),\n    randPars = c(price = 'n', feat = 'n')\n)\n\n# Model coefficients\ncoef(model_mixed)\nResult:\n&gt; coef(model_mixed)\n        price          feat   brandhiland   brandweight \n-0.3930417945  0.2637660327 -3.9897865512 -0.6637300503 \n brandyoplait      sd_price       sd_feat \n 0.7949907357 -0.0009494817 -2.4318056761"
  },
  {
    "objectID": "slides/index.html#reflect",
    "href": "slides/index.html#reflect",
    "title": "Modeling Heterogeneous Preferences",
    "section": "Reflect",
    "text": "Reflect\n\n\n\nWhat I have learned\n\nConstructed my own theme.scss for a good-looking revealjs slides.\nLearned 2 heterogeneous models: interaction model and mixed logit model.\nPracticed on using R code to solve for both models. For interaction model, we simulate the draws with mvrnorm(); for mixed logit model, we use logitr() to construct and analyze the models.\n\n\n\n\n\n\nMy questions\n\nI’m getting used to make revealjs slides, but I wonder how it can be compatible with my notes website. I also want to upload it online and have it accessed in my notes.\nI’m having trouble with applying personalized fonts. For example, I tried “Ubuntu” and “Noto” fonts but they didn’t work. I didn’t have this problem in webpages. I suspect revealjs can only access online-sourced fonts."
  },
  {
    "objectID": "pages/slides/index.html",
    "href": "pages/slides/index.html",
    "title": "Modeling Heterogeneous Preferences",
    "section": "",
    "text": "# Define the beta hat values\nbeta_1_hat &lt;- \"&beta;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;1&lt;/sub&gt;\"\nbeta_2_hat &lt;- \"&beta;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;2&lt;/sub&gt;\"\nbeta_m_hat &lt;- \"&beta;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;m&lt;/sub&gt;\"\n\n# Define the mu hat values\nmu_1_hat &lt;- \"&mu;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;1&lt;/sub&gt;\"\nmu_2_hat &lt;- \"&mu;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;2&lt;/sub&gt;\"\nmu_m_hat &lt;- \"&mu;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;m&lt;/sub&gt;\"\n\n# Define the sigma hat values\nsigma_1_hat &lt;- \"&sigma;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;1&lt;/sub&gt;\"\nsigma_2_hat &lt;- \"&sigma;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;2&lt;/sub&gt;\"\nsigma_m_hat &lt;- \"&sigma;&lt;sup style='font-size: smaller; position: relative; bottom: 1em; left: 0.15em;'&gt;&#94;&lt;/sup&gt;&lt;sub&gt;m&lt;/sub&gt;\""
  },
  {
    "objectID": "pages/slides/index.html#recall-homogeneous-utility-model",
    "href": "pages/slides/index.html#recall-homogeneous-utility-model",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Recall: Homogeneous Utility Model",
    "text": "Recall: Homogeneous Utility Model\nAll our past analyses are Homogeneous Utility Models, meaning we consider all participants as homogeneous, so that everyone has the same utility coefficients of \\(\\boldsymbol{\\beta}\\).\n\\[\n\\tilde {u_j} = \\boldsymbol{\\beta}'\\mathbf{x}_j + \\tilde {\\epsilon_j} = \\beta_1 x_{j1} + \\beta_2 x_{j2} + \\ldots + \\tilde {\\epsilon_j}\n\\]\nThe \\(\\boldsymbol{\\beta}\\) values consist of \\(\\hat {\\beta}\\) and \\(\\sigma\\), which are estimated values and Std Err:\n\n\n\n\n\nEst\nβ^1\nβ^2\n...\nβ^m\n\n\nStd.Err.\nσ1\nσ2\n...\nσm\n\n\n\n\n\n\n\nHowever, in real world, it’s impossible to have homogeneous participants. We use different methods to create heterogeneous models. The 2 of them are:\n\nInteraction Model, where we divide participants into groups, each with their own \\(\\beta\\) coefficients.\nMixed Logit Model, where we span each \\(\\beta\\) coefficient as normal distribution (or other dist.) instead of point estimate."
  },
  {
    "objectID": "pages/slides/index.html#heterogeneous-models",
    "href": "pages/slides/index.html#heterogeneous-models",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Heterogeneous Models",
    "text": "Heterogeneous Models\nHeterogeneous models allow for different participants to have different coefficients. There are 2 models that we want to discuss:\n\n\n1. Interaction Model\naka Observed Heterogeneity\n\n\n\n\n\n\n\n\n\n\n\n\nGroup 1\n\n\nGroup 2\n\n\n\nEstimate\nStd. Err.\nEstimate\nStd. Err.\n\n\n\n\nβ^1\nσ1\nβ^1\nσ1\n\n\nβ^2\nσ2\nβ^2\nσ2\n\n\n...\n...\n...\n...\n\n\nβ^m\nσm\nβ^m\nσm\n\n\n\n\n\n\n\nParticipants are divided into 2 groups, each with their own \\(\\beta\\) coefficients.\n\n\n\n2. Mixed Logit Model\naka Unobserved Heterogeneity\n\n\n\n\n\nEstimate\n\n\n\n\nβ^1 ∼ N( μ^1 , σ^1 )\n\n\nβ^2 ∼ N( μ^2 , σ^2 )\n\n\n...\n\n\nβ^m ∼ N( μ^m , σ^m )\n\n\n\n\n\n\n\nEach \\(\\beta\\) coefficient is spanned as normal distribution instead of point estimate."
  },
  {
    "objectID": "pages/slides/index.html#model-1-interaction-model",
    "href": "pages/slides/index.html#model-1-interaction-model",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Model 1: Interaction Model",
    "text": "Model 1: Interaction Model\n\n\nWe start from a simple homogeneous model:\n\\[\n\\tilde {u_j} = \\beta_1 x_{j1} + \\tilde {\\epsilon_j}\n\\]\nWe assign 2 groups A and B, where \\(\\delta^B\\) is an indicator:\n\\[\n\\begin{align}\n\\tilde {u_j} &= \\beta_1 x_{j1} + \\beta_2 x_{j1} \\delta^B + \\tilde {\\epsilon_j} \\\\\n&= (\\beta_1 + \\beta_2 \\delta^B) x_{j1} + \\tilde {\\epsilon_j}\n\\end{align}\n\\]\nThe reason why we can directly add the \\(\\beta\\)s of A and B with a uniformed \\(\\tilde {\\epsilon_j}\\) is that the error term follows the same Gumbel distribution.\n\n\n\nThe effect of \\(x_{j1}\\) is different for Groups A and B:\n\nFor Group A, it’s only \\(\\hat{\\beta}_1\\);\nFor Group B, it’s \\(\\hat{\\beta}_1 + \\hat{\\beta}_2\\).\n\nIn the interaction model, the \\(\\hat{\\beta}_1\\) and \\(\\hat{\\beta}_2\\) values are:\n\n\n\n\n\nPar.\nInterpretation\n\n\n\n\nβ^1\nEffect of xj1 for group A\n\n\nβ^2\nDifference in effect of xj1 between groups A and B"
  },
  {
    "objectID": "pages/slides/index.html#practice-question-1",
    "href": "pages/slides/index.html#practice-question-1",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Practice Question 1",
    "text": "Practice Question 1\nSuppose we use the following utility model to describe preferences for cars:\n\\[\n\\tilde {u_j} = \\beta_1 x_j^{price} + \\beta_2 x_j^{mpg} + \\beta_3 \\delta_j^{elec} + \\tilde {\\epsilon_j}\n\\]\n\nUsing interactions, write out a model that accounts for differences in the effects of \\(x_j^{price}\\), \\(x_j^{mpg}\\), and \\(\\delta_j^{elec}\\) between two groups: A and B.\n\\[\n\\tilde {u_j} = \\beta_1 x_j^{price} + \\beta_2 x_j^{mpg} + \\beta_3 \\delta_j^{elec} + \\beta_4 x_j^{price} \\delta^B + \\beta_5 x_j^{mpg} \\delta^B + \\beta_6 \\delta_j^{elec} \\delta^B + \\tilde {\\epsilon_j}\n\\]\nWrite out the effects of \\(x_j^{price}\\), \\(x_j^{mpg}\\), and \\(\\delta_j^{elec}\\) for each group.\n\n\n\n\n\n\nGroup\nA\nB\n\n\n\n\nxjprice\nβ1\nβ1 + β4\n\n\nxjmpg\nβ2\nβ2 + β5\n\n\nδjelec\nβ3\nβ3 + β6"
  },
  {
    "objectID": "pages/slides/index.html#hypothesis-test",
    "href": "pages/slides/index.html#hypothesis-test",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Hypothesis Test",
    "text": "Hypothesis Test\nWe use the simulation method to perform the hypothesis test, and see if there is significant difference between Group A and Group B.\n\n\nUse R code to perform the simulation:\n# Construct beta and hessian\nbeta = c(b1 = -0.7, b2 = 0.1)\nhessian = matrix(c(-6000,  50,\n                    50,   -6000),\n                 ncol = 2, byrow = TRUE)\ncovariance = -1*(solve(hessian))\n\n# Simulate draws for 10^5 times\ndraws = as.data.frame(MASS::mvrnorm(10^5, beta, covariance))\n\n# Work out the utility model coefficients beta\nb1_A = draws$b1\nb1_B = draws$b1 + draws$b2\n\n# Calculate confidence Intervals\nmean(b1_A)\nmean(b1_B)\nquantile(b1_A, c(0.025, 0.975))\nquantile(b1_B, c(0.025, 0.975))\n\n\n\nThe mean and quantile values are:\n&gt; mean(b1_A)\n[1] -0.7000618\n&gt; mean(b1_B)\n[1] -0.6000408\n&gt; quantile(b1_A, c(0.025, 0.975))\n      2.5%      97.5%\n-0.7253724 -0.6748339\n&gt; quantile(b1_B, c(0.025, 0.975))\n      2.5%      97.5%\n-0.6358317 -0.5642215\nSince these 2 confidence intervals do not overlap, there is significant evidence that Group A is different from Group B."
  },
  {
    "objectID": "pages/slides/index.html#practice-question-2",
    "href": "pages/slides/index.html#practice-question-2",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Practice Question 2",
    "text": "Practice Question 2\nSuppose we estimate the following utility model describing preferences for chocolate bars between two groups: A & B\n\\[\n\\tilde {u_j} = \\beta_1 x_j^{price} + \\beta_2 x_j^{cacao} + \\beta_3 x_j^{price} \\delta^B + \\beta_4 x_j^{cacao} \\delta^B + \\tilde {\\epsilon_j}\n\\]\n\n\n\nUse the mvrnorm() function from the MASS library to generate 10,000 draws of the model coefficients.\nUse the draws to compute the mean and 95% confidence intervals of the effects of \\(x_j^{price}\\) and \\(x_j^{cacao}\\) for each group (A&B).\n\n\n\n\n\n\n\n\n\nParameters\n\n\nPar.\nCoef.\n\n\n\n\nβ1\n-0.7\n\n\nβ2\n0.1\n\n\nβ3\n0.2\n\n\nβ4\n0.8\n\n\n\n\n\n\n\n\n\n\n\nHessian\n\n\n-6000\n50\n60\n70\n\n\n50\n-700\n50\n100\n\n\n60\n50\n-300\n20\n\n\n70\n100\n20\n-6000"
  },
  {
    "objectID": "pages/slides/index.html#question-2-solution",
    "href": "pages/slides/index.html#question-2-solution",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Question 2 Solution",
    "text": "Question 2 Solution\n\n\nCodes\n# Construct beta and hessian\nbeta = c(b1 = -0.7, b2 = 0.1, b3 = 0.2, b4 = 0.8)\nhessian = matrix(c(-6000, 50,  60,  70,\n                    50,  -700, 50,  100,\n                    60,   50, -300, 20,\n                    70,   100, 20, -6000),\n                 ncol = 4, byrow = TRUE)\ncovariance = -1*(solve(hessian))\n\n# Simulate draws for 10^5 times\ndraws = as.data.frame(MASS::mvrnorm(10^5, beta, covariance))\n\n# Work out the utility model coefficients beta\nb1_A = draws$b1\nb2_A = draws$b2\nb1_B = draws$b1 + draws$b3\nb2_B = draws$b2 + draws$b4\n\n# Calculate confidence Intervals\nmean(b1_A)\nmean(b2_A)\nmean(b1_B)\nmean(b2_B)\nquantile(b1_A, c(0.025, 0.975))\nquantile(b2_A, c(0.025, 0.975))\nquantile(b1_B, c(0.025, 0.975))\nquantile(b2_B, c(0.025, 0.975))\n\nResults\n&gt; mean(b1_A)\n[1] -0.7000142\n&gt; mean(b2_A)\n[1] 0.1000435\n&gt; mean(b1_B)\n[1] -0.4998727\n&gt; mean(b2_B)\n[1] 0.9000659\n&gt; quantile(b1_A, c(0.025, 0.975))\n      2.5%      97.5% \n-0.7254443 -0.6747621 \n&gt; quantile(b2_A, c(0.025, 0.975))\n      2.5%      97.5% \n0.02545381 0.17482052 \n&gt; quantile(b1_B, c(0.025, 0.975))\n      2.5%      97.5% \n-0.6186359 -0.3814665 \n&gt; quantile(b2_B, c(0.025, 0.975))\n     2.5%     97.5% \n0.8200561 0.9804029 \nBoth \\(\\beta\\) values of A and B are significantly different."
  },
  {
    "objectID": "pages/slides/index.html#model-2-mixed-logit-model-mxl",
    "href": "pages/slides/index.html#model-2-mixed-logit-model-mxl",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Model 2: Mixed Logit Model (MXL)",
    "text": "Model 2: Mixed Logit Model (MXL)\nIn the MXL model, we assume each \\(\\beta\\) is distributed across the population, so that we convert from a point estimate \\(\\hat {\\beta}\\) to a range containing an estimated mean \\(\\hat {\\mu}\\) and Std Err \\(\\hat {\\sigma}\\).\n\n\nStandard vs Mixed Logit\nA standard logit uses point estimate, whose PDF is a solid value:\n\\[\nP_j = \\frac{e^{v_j}}{\\sum_{k=1}^{J} e^{v_k}}\n\\]\nA mixed logit uses integration, whose PDF is an area under the curve:\n\\[\nP_j = \\int \\left( \\frac{e^{v_j}}{\\sum_{k=1}^{J} e^{v_k}} \\right) f(\\beta) d\\beta\n\\]\n\n\n\nUse Simulation for MXL\n\nDraw a \\(\\beta\\) value from \\(f(\\beta)\\), label it \\(\\beta^r\\).\nCalculate the standard logit function using \\(\\beta^r\\):\n\\[\nP_j^r = \\frac{e^{v_j^r}}{\\sum_{k=1}^{J} e^{v_k^r}}\n\\]\nSimulate R times of draws, sum and divide by R:\n\\[\n\\hat{P}_j = \\frac{1}{R} \\sum_{r=1}^{R} P_j^r\n\\]"
  },
  {
    "objectID": "pages/slides/index.html#mxl-simulation-using-r-code",
    "href": "pages/slides/index.html#mxl-simulation-using-r-code",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "MXL Simulation using R Code",
    "text": "MXL Simulation using R Code\nWe use the logitr package to simulate the MXL model. Take this chocolate example:\n\\[\n\\tilde{u}_j = \\beta_1 x_j^{\\text{price}} + \\beta_2 x_j^{\\text{cacao}} + \\varepsilon_j \\\\\n\\beta_1 \\sim N(\\mu_1, \\sigma_1), \\quad \\beta_2 \\sim N(\\mu_2, \\sigma_2)\n\\]\n\n\nR Code\n\nlibrary(logitr)\n\nmodel = logitr(\n    data     = data,\n    outcome  = 'choice',\n    obsID    = 'obsID',\n    pars     = c('price', 'cacao'),\n    randPars = c(price = 'n', cacao = 'n')\n)\n\n\n\n\nInterpretation\n\nUse the logitr() function to generate standard and mixed logit models.\nBy setting randPars, we define the individually distributed variables price and cacao, which results in a mixed logit model.\nBy setting randPars values as 'n', we define them as “Normally Distributed”. The value 'ln' means log normal distribution."
  },
  {
    "objectID": "pages/slides/index.html#practice-question-3",
    "href": "pages/slides/index.html#practice-question-3",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Practice Question 3",
    "text": "Practice Question 3\n\nLoad the logitr package, which loads the yogurt data frame.\nUse the logitr package to estimate the following homogeneous model: \\[\n\\tilde{u}_j = \\beta_1 x_j^{\\text{price}} + \\beta_2 \\delta_j^{\\text{feat}} + \\beta_3 \\delta_j^{\\text{dannon}} + \\beta_4 \\delta_j^{\\text{highland}} + \\beta_5 \\delta_j^{\\text{weight}} + \\varepsilon_j\n\\] where the three \\(\\sigma\\) coefficients are dummies for Dannon, Highland, and Weight Watchers brands and Yoplait is the baseline brand.\nUse the logitr package to estimate the same model but with the following mixing distributions: \\[\n\\beta_1 \\sim N(\\mu_1, \\sigma_1) \\\\\n\\beta_2 \\sim N(\\mu_2, \\sigma_2)\n\\]"
  },
  {
    "objectID": "pages/slides/index.html#question-3-solution",
    "href": "pages/slides/index.html#question-3-solution",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Question 3 Solution",
    "text": "Question 3 Solution\n\n\nStandard Logit Model\nCode:\n# Load package\nlibrary(logitr)\n\n# Standard model\nmodel_standard = logitr(\n    data     = yogurt,\n    outcome  = 'choice',\n    obsID    = 'obsID',\n    pars     = c('price', 'feat', 'brand')\n)\n\n# Model coefficients\ncoef(model_standard)\nResult:\n&gt; coef(model_standard)\n       price         feat  brandhiland  brandweight \n  -0.3665546    0.4914392   -3.7154773   -0.6411384 \nbrandyoplait \n   0.7345195 \n\n\n\nMixed Logit Model\nCode:\n# Load package\nlibrary(logitr)\n\n# Standard model\nmodel_mixed = logitr(\n    data     = yogurt,\n    outcome  = 'choice',\n    obsID    = 'obsID',\n    pars     = c('price', 'feat', 'brand'),\n    randPars = c(price = 'n', feat = 'n')\n)\n\n# Model coefficients\ncoef(model_mixed)\nResult:\n&gt; coef(model_mixed)\n        price          feat   brandhiland   brandweight \n-0.3930417945  0.2637660327 -3.9897865512 -0.6637300503 \n brandyoplait      sd_price       sd_feat \n 0.7949907357 -0.0009494817 -2.4318056761"
  },
  {
    "objectID": "pages/slides/index.html#reflect",
    "href": "pages/slides/index.html#reflect",
    "title": "Measuring Consumer Willingness to Enroll in BEV Smart Charging Programs",
    "section": "Reflect",
    "text": "Reflect\n\n\nWhat I have learned\n\nConstructed my own theme.scss for a good-looking revealjs slides.\nLearned 2 heterogeneous models: interaction model and mixed logit model.\nPracticed on using R code to solve for both models. For interaction model, we simulate the draws with mvrnorm(); for mixed logit model, we use logitr() to construct and analyze the models.\n\n\n\n\nMy questions\n\nI’m getting used to make revealjs slides, but I wonder how it can be compatible with my notes website. I also want to upload it online and have it accessed in my notes.\nI’m having trouble with applying personalized fonts. For example, I tried “Ubuntu” and “Noto” fonts but they didn’t work. I didn’t have this problem in webpages. I suspect revealjs can only access online-sourced fonts.\n\n\n\n\n\n\n\nPingfan Hu"
  }
]